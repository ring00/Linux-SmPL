BUILD:
[33mbase commit: 16e5cc647173^1
[0m[33mtarget commit: 16e5cc647173
[0m[33mchecking out base commit... [0m[33mok (1s)
[0m[33mformatting diff... [0m[33mok (2s)
[0m14 source file(s) touched in the old version
`-- drivers/net/ethernet/amd/xgbe/xgbe-drv.c
`-- drivers/net/ethernet/broadcom/bnx2x/bnx2x_cmn.c
`-- drivers/net/ethernet/broadcom/bnx2x/bnx2x_cmn.h
`-- drivers/net/ethernet/broadcom/bnxt/bnxt.c
`-- drivers/net/ethernet/intel/fm10k/fm10k_netdev.c
`-- drivers/net/ethernet/intel/i40e/i40e.h
`-- drivers/net/ethernet/intel/i40e/i40e_main.c
`-- drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
`-- drivers/net/ethernet/mellanox/mlx4/en_netdev.c
`-- drivers/net/ethernet/sfc/efx.h
`-- drivers/net/ethernet/sfc/tx.c
`-- drivers/net/ethernet/ti/netcp_core.c
`-- include/linux/netdevice.h
`-- net/sched/sch_mqprio.c
14 source file(s) touched in the new version
`-- drivers/net/ethernet/amd/xgbe/xgbe-drv.c
`-- drivers/net/ethernet/broadcom/bnx2x/bnx2x_cmn.c
`-- drivers/net/ethernet/broadcom/bnx2x/bnx2x_cmn.h
`-- drivers/net/ethernet/broadcom/bnxt/bnxt.c
`-- drivers/net/ethernet/intel/fm10k/fm10k_netdev.c
`-- drivers/net/ethernet/intel/i40e/i40e.h
`-- drivers/net/ethernet/intel/i40e/i40e_main.c
`-- drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
`-- drivers/net/ethernet/mellanox/mlx4/en_netdev.c
`-- drivers/net/ethernet/sfc/efx.h
`-- drivers/net/ethernet/sfc/tx.c
`-- drivers/net/ethernet/ti/netcp_core.c
`-- include/linux/netdevice.h
`-- net/sched/sch_mqprio.c
[33mcompile base commit... [0m[33mok (39s)
[0m[33mapply [0m[33m16e5cc647173... [0m[33mok (39s)
[0m[33mcompile target commit... [0m[33mok (71s)
[0mPREPARE:
[33mcollect AST for functions: __fm10k_setup_tc@drivers_net_ethernet_intel_fm10k_fm10k_netdev.c,__mlx4_en_setup_tc@drivers_net_ethernet_mellanox_mlx4_en_netdev.c,__ixgbe_setup_tc@drivers_net_ethernet_intel_ixgbe_ixgbe_main.c,mqprio_destroy@net_sched_sch_mqprio.c,netcp_setup_tc@drivers_net_ethernet_ti_netcp_core.c,bnxt_setup_tc@drivers_net_ethernet_broadcom_bnxt_bnxt.c,xgbe_setup_tc@drivers_net_ethernet_amd_xgbe_xgbe-drv.c,__bnx2x_setup_tc@drivers_net_ethernet_broadcom_bnx2x_bnx2x_cmn.c,mqprio_init@net_sched_sch_mqprio.c,efx_setup_tc@drivers_net_ethernet_sfc_tx.c,__i40e_setup_tc@drivers_net_ethernet_intel_i40e_i40e_main.c
[0m[33mTransforming and linking bitcode files...
[0m[33m10s
[0mANALYZE:
COCCIGEN:
//# pattern-2, witnesses: 4
@r0@
identifier i, fn;
@@
struct net_device_ops i = {
    .ndo_setup_tc = fn,
};
@@
statement S0;
typedef __be16;
identifier dev;
identifier handle;
identifier r0.fn;
identifier tc;
typedef u32;
typedef u8;
@@
- int fn(struct net_device * dev, u32 handle, u8 tc)
+ int fn(struct net_device * dev, u32 handle, __be16 proto, struct tc_to_netdev * tc)
 {
     <...
- if (handle != TC_H_ROOT) { S0 }
+ if (handle != TC_H_ROOT || tc->type != TC_SETUP_MQPRIO) { S0 }
     ...>
 }
