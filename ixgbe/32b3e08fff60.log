BUILD:
[33mbase commit: 32b3e08fff60^1
[0m[33mtarget commit: 32b3e08fff60
[0m[33mchecking out base commit... [0m[33mok (2s)
[0m[33mformatting diff... [0m[33mok (2s)
[0m9 source file(s) touched in the old version
`-- drivers/net/ethernet/intel/e1000/e1000_main.c
`-- drivers/net/ethernet/intel/e1000e/netdev.c
`-- drivers/net/ethernet/intel/fm10k/fm10k_main.c
`-- drivers/net/ethernet/intel/i40e/i40e_txrx.c
`-- drivers/net/ethernet/intel/i40evf/i40e_txrx.c
`-- drivers/net/ethernet/intel/igb/igb_main.c
`-- drivers/net/ethernet/intel/igbvf/netdev.c
`-- drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
`-- drivers/net/ethernet/intel/ixgbevf/ixgbevf_main.c
9 source file(s) touched in the new version
`-- drivers/net/ethernet/intel/e1000/e1000_main.c
`-- drivers/net/ethernet/intel/e1000e/netdev.c
`-- drivers/net/ethernet/intel/fm10k/fm10k_main.c
`-- drivers/net/ethernet/intel/i40e/i40e_txrx.c
`-- drivers/net/ethernet/intel/i40evf/i40e_txrx.c
`-- drivers/net/ethernet/intel/igb/igb_main.c
`-- drivers/net/ethernet/intel/igbvf/netdev.c
`-- drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
`-- drivers/net/ethernet/intel/ixgbevf/ixgbevf_main.c
[33mcompile base commit... [0m[33mok (46s)
[0m[33mapply [0m[33m32b3e08fff60... [0m[33mok (46s)
[0m[33mcompile target commit... [0m[33mok (77s)
[0mPREPARE:
[33mcollect AST for functions: ixgbevf_poll@drivers_net_ethernet_intel_ixgbevf_ixgbevf_main.c,e1000_clean@drivers_net_ethernet_intel_e1000_e1000_main.c,i40evf_napi_poll@drivers_net_ethernet_intel_i40evf_i40e_txrx.c,i40e_napi_poll@drivers_net_ethernet_intel_i40e_i40e_txrx.c,ixgbe_poll@drivers_net_ethernet_intel_ixgbe_ixgbe_main.c,igbvf_poll@drivers_net_ethernet_intel_igbvf_netdev.c,fm10k_clean_rx_irq@drivers_net_ethernet_intel_fm10k_fm10k_main.c,igb_poll@drivers_net_ethernet_intel_igb_igb_main.c,igb_clean_rx_irq@drivers_net_ethernet_intel_igb_igb_main.c,e1000e_poll@drivers_net_ethernet_intel_e1000e_netdev.c,fm10k_poll@drivers_net_ethernet_intel_fm10k_fm10k_main.c
[0m[33mTransforming and linking bitcode files...
[0m[33m8s
[0mANALYZE:
COCCIGEN:
unknown kind: ForStmt
unknown kind: ForStmt
//# pattern-2, witnesses: 3
@r0@
identifier fn;
expression P0, P1, P3;
@@
netif_napi_add(P0, P1, fn, P3)
@@
identifier napi;
identifier r0.fn;
identifier weight;
@@
 int fn(struct napi_struct * napi, int weight)
 {
     <...
- napi_complete(napi)
+ napi_complete_done(napi, work_done)
     ...>
 }
//# pattern-3, witnesses: 3
@r1@
identifier fn;
expression P0, P1, P3;
@@
netif_napi_add(P0, P1, fn, P3)
@@
identifier budget;
identifier napi;
identifier r1.fn;
@@
 int fn(struct napi_struct * napi, int budget)
 {
     <...
- int per_ring_budget = per_ring_budget;
- napi_complete(napi);
+ int per_ring_budget = per_ring_budget;
+ napi_complete_done(napi, work_done);
     ...>
 }
//# pattern-4, witnesses: 2
@@
@@
- int per_ring_budget = per_ring_budget;
+ int per_ring_budget = per_ring_budget;
