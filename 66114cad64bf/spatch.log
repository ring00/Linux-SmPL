diff -u -p a/gfs2/rgrp.c b/gfs2/rgrp.c
--- a/gfs2/rgrp.c
+++ b/gfs2/rgrp.c
@@ -15,6 +15,7 @@
 #include <linux/gfs2_ondisk.h>
 #include <linux/prefetch.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 
 #include "gfs2.h"
 #include "incore.h"
diff -u -p a/gfs2/file.c b/gfs2/file.c
--- a/gfs2/file.c
+++ b/gfs2/file.c
@@ -14,6 +14,7 @@
 #include <linux/pagemap.h>
 #include <linux/uio.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/mm.h>
 #include <linux/mount.h>
 #include <linux/fs.h>
diff -u -p a/gfs2/ops_fstype.c b/gfs2/ops_fstype.c
--- a/gfs2/ops_fstype.c
+++ b/gfs2/ops_fstype.c
@@ -13,6 +13,7 @@
 #include <linux/completion.h>
 #include <linux/buffer_head.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/kthread.h>
 #include <linux/namei.h>
 #include <linux/mount.h>
diff -u -p a/freevxfs/vxfs_super.c b/freevxfs/vxfs_super.c
--- a/freevxfs/vxfs_super.c
+++ b/freevxfs/vxfs_super.c
@@ -34,6 +34,7 @@
 #include <linux/module.h>
 
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/fs.h>
 #include <linux/buffer_head.h>
 #include <linux/kernel.h>
diff -u -p a/fs-writeback.c b/fs-writeback.c
--- a/fs-writeback.c
+++ b/fs-writeback.c
@@ -25,6 +25,7 @@
 #include <linux/writeback.h>
 #include <linux/blkdev.h>
 #include <linux/backing-dev.h>
+#include <linux/backing-dev.h>
 #include <linux/buffer_head.h>
 #include <linux/tracepoint.h>
 #include "internal.h"
diff -u -p a/super.c b/super.c
--- a/super.c
+++ b/super.c
@@ -24,6 +24,7 @@
 #include <linux/slab.h>
 #include <linux/acct.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/mount.h>
 #include <linux/security.h>
 #include <linux/writeback.h>		/* for the emergency remount stuff */
diff -u -p a/jbd/commit.c b/jbd/commit.c
--- a/jbd/commit.c
+++ b/jbd/commit.c
@@ -21,6 +21,7 @@
 #include <linux/pagemap.h>
 #include <linux/bio.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 
 /*
  * Default IO end handler for temporary BJ_IO buffer_heads.
diff -u -p a/direct-io.c b/direct-io.c
--- a/direct-io.c
+++ b/direct-io.c
@@ -32,6 +32,7 @@
 #include <linux/wait.h>
 #include <linux/err.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/buffer_head.h>
 #include <linux/rwsem.h>
 #include <linux/uio.h>
diff -u -p a/aio.c b/aio.c
--- a/aio.c
+++ b/aio.c
@@ -34,6 +34,7 @@
 #include <linux/security.h>
 #include <linux/eventfd.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/compat.h>
 
 #include <asm/kmap_types.h>
diff -u -p a/ocfs2/super.c b/ocfs2/super.c
--- a/ocfs2/super.c
+++ b/ocfs2/super.c
@@ -33,6 +33,7 @@
 #include <linux/statfs.h>
 #include <linux/moduleparam.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/socket.h>
 #include <linux/inet.h>
 #include <linux/parser.h>
diff -u -p a/ocfs2/alloc.c b/ocfs2/alloc.c
--- a/ocfs2/alloc.c
+++ b/ocfs2/alloc.c
@@ -30,6 +30,7 @@
 #include <linux/swap.h>
 #include <linux/quotaops.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 
 #include <cluster/masklog.h>
 
diff -u -p a/ocfs2/cluster/heartbeat.c b/ocfs2/cluster/heartbeat.c
--- a/ocfs2/cluster/heartbeat.c
+++ b/ocfs2/cluster/heartbeat.c
@@ -26,6 +26,7 @@
 #include <linux/fs.h>
 #include <linux/bio.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/delay.h>
 #include <linux/file.h>
 #include <linux/kthread.h>
diff -u -p a/ocfs2/dlm/dlmmaster.c b/ocfs2/dlm/dlmmaster.c
--- a/ocfs2/dlm/dlmmaster.c
+++ b/ocfs2/dlm/dlmmaster.c
@@ -34,6 +34,7 @@
 #include <linux/sysctl.h>
 #include <linux/random.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/socket.h>
 #include <linux/inet.h>
 #include <linux/spinlock.h>
diff -u -p a/ocfs2/dlm/dlmlock.c b/ocfs2/dlm/dlmlock.c
--- a/ocfs2/dlm/dlmlock.c
+++ b/ocfs2/dlm/dlmlock.c
@@ -34,6 +34,7 @@
 #include <linux/sysctl.h>
 #include <linux/random.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/socket.h>
 #include <linux/inet.h>
 #include <linux/spinlock.h>
diff -u -p a/ocfs2/dlm/dlmthread.c b/ocfs2/dlm/dlmthread.c
--- a/ocfs2/dlm/dlmthread.c
+++ b/ocfs2/dlm/dlmthread.c
@@ -33,6 +33,7 @@
 #include <linux/sysctl.h>
 #include <linux/random.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/socket.h>
 #include <linux/inet.h>
 #include <linux/timer.h>
diff -u -p a/ocfs2/dlm/dlmast.c b/ocfs2/dlm/dlmast.c
--- a/ocfs2/dlm/dlmast.c
+++ b/ocfs2/dlm/dlmast.c
@@ -33,6 +33,7 @@
 #include <linux/sysctl.h>
 #include <linux/random.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/socket.h>
 #include <linux/inet.h>
 #include <linux/spinlock.h>
diff -u -p a/ocfs2/dlm/dlmunlock.c b/ocfs2/dlm/dlmunlock.c
--- a/ocfs2/dlm/dlmunlock.c
+++ b/ocfs2/dlm/dlmunlock.c
@@ -33,6 +33,7 @@
 #include <linux/sysctl.h>
 #include <linux/random.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/socket.h>
 #include <linux/inet.h>
 #include <linux/spinlock.h>
diff -u -p a/ocfs2/dlm/dlmrecovery.c b/ocfs2/dlm/dlmrecovery.c
--- a/ocfs2/dlm/dlmrecovery.c
+++ b/ocfs2/dlm/dlmrecovery.c
@@ -34,6 +34,7 @@
 #include <linux/sysctl.h>
 #include <linux/random.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/socket.h>
 #include <linux/inet.h>
 #include <linux/timer.h>
diff -u -p a/ocfs2/dlm/dlmconvert.c b/ocfs2/dlm/dlmconvert.c
--- a/ocfs2/dlm/dlmconvert.c
+++ b/ocfs2/dlm/dlmconvert.c
@@ -33,6 +33,7 @@
 #include <linux/sysctl.h>
 #include <linux/random.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/socket.h>
 #include <linux/inet.h>
 #include <linux/spinlock.h>
diff -u -p a/ocfs2/file.c b/ocfs2/file.c
--- a/ocfs2/file.c
+++ b/ocfs2/file.c
@@ -37,6 +37,7 @@
 #include <linux/falloc.h>
 #include <linux/quotaops.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 
 #include <cluster/masklog.h>
 
diff -u -p a/ocfs2/refcounttree.c b/ocfs2/refcounttree.c
--- a/ocfs2/refcounttree.c
+++ b/ocfs2/refcounttree.c
@@ -37,6 +37,7 @@
 
 #include <linux/bio.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/slab.h>
 #include <linux/writeback.h>
 #include <linux/pagevec.h>
diff -u -p a/compat_ioctl.c b/compat_ioctl.c
--- a/compat_ioctl.c
+++ b/compat_ioctl.c
@@ -46,6 +46,7 @@
 #include <linux/netdevice.h>
 #include <linux/raw.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/elevator.h>
 #include <linux/rtc.h>
 #include <linux/pci.h>
diff -u -p a/ext2/super.c b/ext2/super.c
--- a/ext2/super.c
+++ b/ext2/super.c
@@ -22,6 +22,7 @@
 #include <linux/slab.h>
 #include <linux/init.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/parser.h>
 #include <linux/random.h>
 #include <linux/buffer_head.h>
diff -u -p a/ext2/xip.c b/ext2/xip.c
--- a/ext2/xip.c
+++ b/ext2/xip.c
@@ -12,6 +12,7 @@
 #include <linux/ext2_fs_sb.h>
 #include <linux/ext2_fs.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include "ext2.h"
 #include "xip.h"
 
diff -u -p a/ntfs/super.c b/ntfs/super.c
--- a/ntfs/super.c
+++ b/ntfs/super.c
@@ -25,7 +25,8 @@
 #include <linux/slab.h>
 #include <linux/string.h>
 #include <linux/spinlock.h>
-#include <linux/blkdev.h>	/* For bdev_logical_block_size(). */
+#include <linux/blkdev.h>
+#include <linux/backing-dev.h>	/* For bdev_logical_block_size(). */
 #include <linux/backing-dev.h>
 #include <linux/buffer_head.h>
 #include <linux/vfs.h>
diff -u -p a/ntfs/compress.c b/ntfs/compress.c
--- a/ntfs/compress.c
+++ b/ntfs/compress.c
@@ -24,6 +24,7 @@
 #include <linux/fs.h>
 #include <linux/buffer_head.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/vmalloc.h>
 #include <linux/slab.h>
 
diff -u -p a/nilfs2/super.c b/nilfs2/super.c
--- a/nilfs2/super.c
+++ b/nilfs2/super.c
@@ -42,6 +42,7 @@
 #include <linux/slab.h>
 #include <linux/init.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/parser.h>
 #include <linux/crc32.h>
 #include <linux/vfs.h>
diff -u -p a/nilfs2/recovery.c b/nilfs2/recovery.c
--- a/nilfs2/recovery.c
+++ b/nilfs2/recovery.c
@@ -22,6 +22,7 @@
 
 #include <linux/buffer_head.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/swap.h>
 #include <linux/slab.h>
 #include <linux/crc32.h>
diff -u -p a/nilfs2/the_nilfs.c b/nilfs2/the_nilfs.c
--- a/nilfs2/the_nilfs.c
+++ b/nilfs2/the_nilfs.c
@@ -25,6 +25,7 @@
 #include <linux/slab.h>
 #include <linux/blkdev.h>
 #include <linux/backing-dev.h>
+#include <linux/backing-dev.h>
 #include <linux/random.h>
 #include <linux/crc32.h>
 #include "nilfs.h"
diff -u -p a/nilfs2/segment.c b/nilfs2/segment.c
--- a/nilfs2/segment.c
+++ b/nilfs2/segment.c
@@ -28,6 +28,7 @@
 #include <linux/completion.h>
 #include <linux/blkdev.h>
 #include <linux/backing-dev.h>
+#include <linux/backing-dev.h>
 #include <linux/freezer.h>
 #include <linux/kthread.h>
 #include <linux/crc32.h>
diff -u -p a/bio.c b/bio.c
--- a/bio.c
+++ b/bio.c
@@ -19,6 +19,7 @@
 #include <linux/swap.h>
 #include <linux/bio.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/slab.h>
 #include <linux/init.h>
 #include <linux/kernel.h>
diff -u -p a/fat/fatent.c b/fat/fatent.c
--- a/fat/fatent.c
+++ b/fat/fatent.c
@@ -7,6 +7,7 @@
 #include <linux/fs.h>
 #include <linux/msdos_fs.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include "fat.h"
 
 struct fatent_operations {
diff -u -p a/fat/file.c b/fat/file.c
--- a/fat/file.c
+++ b/fat/file.c
@@ -15,6 +15,7 @@
 #include <linux/writeback.h>
 #include <linux/backing-dev.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/fsnotify.h>
 #include <linux/security.h>
 #include "fat.h"
diff -u -p a/jbd2/commit.c b/jbd2/commit.c
--- a/jbd2/commit.c
+++ b/jbd2/commit.c
@@ -26,6 +26,7 @@
 #include <linux/backing-dev.h>
 #include <linux/bio.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/bitops.h>
 #include <trace/events/jbd2.h>
 #include <asm/system.h>
diff -u -p a/jbd2/checkpoint.c b/jbd2/checkpoint.c
--- a/jbd2/checkpoint.c
+++ b/jbd2/checkpoint.c
@@ -23,6 +23,7 @@
 #include <linux/errno.h>
 #include <linux/slab.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <trace/events/jbd2.h>
 
 /*
diff -u -p a/hfs/super.c b/hfs/super.c
--- a/hfs/super.c
+++ b/hfs/super.c
@@ -14,6 +14,7 @@
 
 #include <linux/module.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/mount.h>
 #include <linux/init.h>
 #include <linux/nls.h>
diff -u -p a/romfs/super.c b/romfs/super.c
--- a/romfs/super.c
+++ b/romfs/super.c
@@ -63,6 +63,7 @@
 #include <linux/slab.h>
 #include <linux/init.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/parser.h>
 #include <linux/mount.h>
 #include <linux/namei.h>
diff -u -p a/udf/super.c b/udf/super.c
--- a/udf/super.c
+++ b/udf/super.c
@@ -41,6 +41,7 @@
 #include "udfdecl.h"
 
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/slab.h>
 #include <linux/kernel.h>
 #include <linux/module.h>
diff -u -p a/udf/lowlevel.c b/udf/lowlevel.c
--- a/udf/lowlevel.c
+++ b/udf/lowlevel.c
@@ -20,6 +20,7 @@
 #include "udfdecl.h"
 
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/cdrom.h>
 #include <asm/uaccess.h>
 
diff -u -p a/hfsplus/super.c b/hfsplus/super.c
--- a/hfsplus/super.c
+++ b/hfsplus/super.c
@@ -11,6 +11,7 @@
 #include <linux/init.h>
 #include <linux/pagemap.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/fs.h>
 #include <linux/slab.h>
 #include <linux/vfs.h>
diff -u -p a/hfsplus/wrapper.c b/hfsplus/wrapper.c
--- a/hfsplus/wrapper.c
+++ b/hfsplus/wrapper.c
@@ -10,6 +10,7 @@
 
 #include <linux/fs.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/cdrom.h>
 #include <linux/genhd.h>
 #include <asm/unaligned.h>
diff -u -p a/hfsplus/inode.c b/hfsplus/inode.c
--- a/hfsplus/inode.c
+++ b/hfsplus/inode.c
@@ -9,6 +9,7 @@
  */
 
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/mm.h>
 #include <linux/fs.h>
 #include <linux/pagemap.h>
diff -u -p a/xfs/linux-2.6/xfs_buf.c b/xfs/linux-2.6/xfs_buf.c
--- a/xfs/linux-2.6/xfs_buf.c
+++ b/xfs/linux-2.6/xfs_buf.c
@@ -28,6 +28,7 @@
 #include <linux/workqueue.h>
 #include <linux/percpu.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/hash.h>
 #include <linux/kthread.h>
 #include <linux/migrate.h>
diff -u -p a/xfs/linux-2.6/kmem.c b/xfs/linux-2.6/kmem.c
--- a/xfs/linux-2.6/kmem.c
+++ b/xfs/linux-2.6/kmem.c
@@ -21,6 +21,7 @@
 #include <linux/swap.h>
 #include <linux/blkdev.h>
 #include <linux/backing-dev.h>
+#include <linux/backing-dev.h>
 #include "time.h"
 #include "kmem.h"
 #include "xfs_message.h"
diff -u -p a/cramfs/inode.c b/cramfs/inode.c
--- a/cramfs/inode.c
+++ b/cramfs/inode.c
@@ -17,6 +17,7 @@
 #include <linux/init.h>
 #include <linux/string.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/cramfs_fs.h>
 #include <linux/slab.h>
 #include <linux/cramfs_fs_sb.h>
diff -u -p a/bio-integrity.c b/bio-integrity.c
--- a/bio-integrity.c
+++ b/bio-integrity.c
@@ -21,6 +21,7 @@
  */
 
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/mempool.h>
 #include <linux/bio.h>
 #include <linux/workqueue.h>
diff -u -p a/ext3/super.c b/ext3/super.c
--- a/ext3/super.c
+++ b/ext3/super.c
@@ -26,6 +26,7 @@
 #include <linux/slab.h>
 #include <linux/init.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/parser.h>
 #include <linux/buffer_head.h>
 #include <linux/exportfs.h>
diff -u -p a/ext3/fsync.c b/ext3/fsync.c
--- a/ext3/fsync.c
+++ b/ext3/fsync.c
@@ -24,6 +24,7 @@
 
 #include <linux/time.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/fs.h>
 #include <linux/sched.h>
 #include <linux/writeback.h>
diff -u -p a/ext3/balloc.c b/ext3/balloc.c
--- a/ext3/balloc.c
+++ b/ext3/balloc.c
@@ -21,6 +21,7 @@
 #include <linux/quotaops.h>
 #include <linux/buffer_head.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 
 /*
  * balloc.c contains the blocks allocation and deallocation routines
diff -u -p a/mpage.c b/mpage.c
--- a/mpage.c
+++ b/mpage.c
@@ -21,6 +21,7 @@
 #include <linux/fs.h>
 #include <linux/buffer_head.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/highmem.h>
 #include <linux/prefetch.h>
 #include <linux/mpage.h>
diff -u -p a/logfs/super.c b/logfs/super.c
--- a/logfs/super.c
+++ b/logfs/super.c
@@ -13,6 +13,7 @@
 #include <linux/bio.h>
 #include <linux/slab.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/mtd/mtd.h>
 #include <linux/statfs.h>
 #include <linux/buffer_head.h>
diff -u -p a/logfs/dev_bdev.c b/logfs/dev_bdev.c
--- a/logfs/dev_bdev.c
+++ b/logfs/dev_bdev.c
@@ -8,6 +8,7 @@
 #include "logfs.h"
 #include <linux/bio.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/buffer_head.h>
 #include <linux/gfp.h>
 #include <linux/prefetch.h>
diff -u -p a/ext4/super.c b/ext4/super.c
--- a/ext4/super.c
+++ b/ext4/super.c
@@ -25,6 +25,7 @@
 #include <linux/slab.h>
 #include <linux/init.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/parser.h>
 #include <linux/buffer_head.h>
 #include <linux/exportfs.h>
diff -u -p a/ext4/fsync.c b/ext4/fsync.c
--- a/ext4/fsync.c
+++ b/ext4/fsync.c
@@ -28,6 +28,7 @@
 #include <linux/writeback.h>
 #include <linux/jbd2.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 
 #include "ext4.h"
 #include "ext4_jbd2.h"
diff -u -p a/ext4/block_validity.c b/ext4/block_validity.c
--- a/ext4/block_validity.c
+++ b/ext4/block_validity.c
@@ -17,6 +17,7 @@
 #include <linux/swap.h>
 #include <linux/pagemap.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/mutex.h>
 #include <linux/slab.h>
 #include "ext4.h"
diff -u -p a/ext4/ialloc.c b/ext4/ialloc.c
--- a/ext4/ialloc.c
+++ b/ext4/ialloc.c
@@ -22,6 +22,7 @@
 #include <linux/random.h>
 #include <linux/bitops.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <asm/byteorder.h>
 
 #include "ext4.h"
diff -u -p a/block_dev.c b/block_dev.c
--- a/block_dev.c
+++ b/block_dev.c
@@ -14,6 +14,7 @@
 #include <linux/device_cgroup.h>
 #include <linux/highmem.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/module.h>
 #include <linux/blkpg.h>
 #include <linux/buffer_head.h>
diff -u -p a/buffer.c b/buffer.c
--- a/buffer.c
+++ b/buffer.c
@@ -26,6 +26,7 @@
 #include <linux/slab.h>
 #include <linux/capability.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/file.h>
 #include <linux/quotaops.h>
 #include <linux/highmem.h>
diff -u -p a/btrfs/super.c b/btrfs/super.c
--- a/btrfs/super.c
+++ b/btrfs/super.c
@@ -17,6 +17,7 @@
  */
 
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/module.h>
 #include <linux/buffer_head.h>
 #include <linux/fs.h>
diff -u -p a/btrfs/scrub.c b/btrfs/scrub.c
--- a/btrfs/scrub.c
+++ b/btrfs/scrub.c
@@ -17,6 +17,7 @@
  */
 
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include "ctree.h"
 #include "volumes.h"
 #include "disk-io.h"
diff -u -p a/btrfs/ordered-data.c b/btrfs/ordered-data.c
--- a/btrfs/ordered-data.c
+++ b/btrfs/ordered-data.c
@@ -18,6 +18,7 @@
 
 #include <linux/slab.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/writeback.h>
 #include <linux/pagevec.h>
 #include "ctree.h"
diff -u -p a/btrfs/transaction.c b/btrfs/transaction.c
--- a/btrfs/transaction.c
+++ b/btrfs/transaction.c
@@ -22,6 +22,7 @@
 #include <linux/writeback.h>
 #include <linux/pagemap.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include "ctree.h"
 #include "disk-io.h"
 #include "transaction.h"
diff -u -p a/btrfs/extent_io.c b/btrfs/extent_io.c
--- a/btrfs/extent_io.c
+++ b/btrfs/extent_io.c
@@ -7,6 +7,7 @@
 #include <linux/module.h>
 #include <linux/spinlock.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/swap.h>
 #include <linux/writeback.h>
 #include <linux/pagevec.h>
diff -u -p a/btrfs/volumes.c b/btrfs/volumes.c
--- a/btrfs/volumes.c
+++ b/btrfs/volumes.c
@@ -20,6 +20,7 @@
 #include <linux/slab.h>
 #include <linux/buffer_head.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/random.h>
 #include <linux/iocontext.h>
 #include <linux/capability.h>
diff -u -p a/btrfs/disk-io.c b/btrfs/disk-io.c
--- a/btrfs/disk-io.c
+++ b/btrfs/disk-io.c
@@ -18,6 +18,7 @@
 
 #include <linux/fs.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/scatterlist.h>
 #include <linux/swap.h>
 #include <linux/radix-tree.h>
diff -u -p a/btrfs/ioctl.c b/btrfs/ioctl.c
--- a/btrfs/ioctl.c
+++ b/btrfs/ioctl.c
@@ -41,6 +41,7 @@
 #include <linux/vmalloc.h>
 #include <linux/slab.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include "compat.h"
 #include "ctree.h"
 #include "disk-io.h"
diff -u -p a/btrfs/extent-tree.c b/btrfs/extent-tree.c
--- a/btrfs/extent-tree.c
+++ b/btrfs/extent-tree.c
@@ -19,6 +19,7 @@
 #include <linux/pagemap.h>
 #include <linux/writeback.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/sort.h>
 #include <linux/rcupdate.h>
 #include <linux/kthread.h>
diff -u -p a/btrfs/relocation.c b/btrfs/relocation.c
--- a/btrfs/relocation.c
+++ b/btrfs/relocation.c
@@ -20,6 +20,7 @@
 #include <linux/pagemap.h>
 #include <linux/writeback.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/rbtree.h>
 #include <linux/slab.h>
 #include "ctree.h"
diff -u -p a/ioprio.c b/ioprio.c
--- a/ioprio.c
+++ b/ioprio.c
@@ -23,6 +23,7 @@
 #include <linux/kernel.h>
 #include <linux/ioprio.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/capability.h>
 #include <linux/syscalls.h>
 #include <linux/security.h>
diff -u -p a/reiserfs/super.c b/reiserfs/super.c
--- a/reiserfs/super.c
+++ b/reiserfs/super.c
@@ -21,6 +21,7 @@
 #include <linux/reiserfs_xattr.h>
 #include <linux/init.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/buffer_head.h>
 #include <linux/exportfs.h>
 #include <linux/quotaops.h>
diff -u -p a/reiserfs/journal.c b/reiserfs/journal.c
--- a/reiserfs/journal.c
+++ b/reiserfs/journal.c
@@ -48,6 +48,7 @@
 #include <linux/writeback.h>
 #include <linux/blkdev.h>
 #include <linux/backing-dev.h>
+#include <linux/backing-dev.h>
 #include <linux/uaccess.h>
 #include <linux/slab.h>
 
diff -u -p a/reiserfs/file.c b/reiserfs/file.c
--- a/reiserfs/file.c
+++ b/reiserfs/file.c
@@ -11,6 +11,7 @@
 #include <linux/swap.h>
 #include <linux/writeback.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/buffer_head.h>
 #include <linux/quotaops.h>
 
diff -u -p a/jfs/jfs_logmgr.c b/jfs/jfs_logmgr.c
--- a/jfs/jfs_logmgr.c
+++ b/jfs/jfs_logmgr.c
@@ -61,6 +61,7 @@
 
 #include <linux/fs.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/interrupt.h>
 #include <linux/completion.h>
 #include <linux/kthread.h>
diff -u -p a/ufs/super.c b/ufs/super.c
--- a/ufs/super.c
+++ b/ufs/super.c
@@ -82,6 +82,7 @@
 #include <linux/stat.h>
 #include <linux/string.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/init.h>
 #include <linux/parser.h>
 #include <linux/buffer_head.h>
diff -u -p a/ufs/truncate.c b/ufs/truncate.c
--- a/ufs/truncate.c
+++ b/ufs/truncate.c
@@ -42,6 +42,7 @@
 #include <linux/string.h>
 #include <linux/buffer_head.h>
 #include <linux/blkdev.h>
+#include <linux/backing-dev.h>
 #include <linux/sched.h>
 
 #include "ufs_fs.h"
