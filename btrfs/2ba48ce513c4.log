BUILD:
[33mbase commit: 2ba48ce513c4^1
[0m[33mtarget commit: 2ba48ce513c4
[0m[33mchecking out base commit... [0m[33mok (0s)
[0m[33mformatting diff... [0m[33mok (0s)
[0m11 source file(s) touched in the old version
`-- fs/aio.c
`-- fs/btrfs/file.c
`-- fs/ceph/file.c
`-- fs/ext4/file.c
`-- fs/fuse/file.c
`-- fs/gfs2/file.c
`-- fs/nfs/file.c
`-- fs/ocfs2/file.c
`-- fs/xfs/xfs_file.c
`-- include/linux/fs.h
`-- mm/filemap.c
11 source file(s) touched in the new version
`-- fs/aio.c
`-- fs/btrfs/file.c
`-- fs/ceph/file.c
`-- fs/ext4/file.c
`-- fs/fuse/file.c
`-- fs/gfs2/file.c
`-- fs/nfs/file.c
`-- fs/ocfs2/file.c
`-- fs/xfs/xfs_file.c
`-- include/linux/fs.h
`-- mm/filemap.c
[33mcompile base commit... [0m[33mok (23s)
[0m[33mapply [0m[33m2ba48ce513c4... [0m[33mok (24s)
[0m[33mcompile target commit... [0m[33mok (44s)
[0mPREPARE:
[33mcollect AST for functions: xfs_file_write_iter@fs_xfs_xfs_file.c,btrfs_file_write_iter@fs_btrfs_file.c,nfs_file_write@fs_nfs_file.c,generic_file_read_iter@mm_filemap.c,ceph_read_iter@fs_ceph_file.c,init_sync_kiocb@include_linux_fs.h,ocfs2_file_write_iter@fs_ocfs2_file.c,io_submit_one@fs_aio.c,ceph_sync_read@fs_ceph_file.c,ceph_write_iter@fs_ceph_file.c,ocfs2_file_read_iter@fs_ocfs2_file.c,__generic_file_write_iter@mm_filemap.c,fuse_file_write_iter@fs_fuse_file.c,xfs_file_read_iter@fs_xfs_xfs_file.c,nfs_file_read@fs_nfs_file.c,ext4_file_write_iter@fs_ext4_file.c,gfs2_file_write_iter@fs_gfs2_file.c
[0m[33mTransforming and linking bitcode files...
[0m[33m4s
[0mANALYZE:
COCCIGEN:
//# pattern-1, witnesses: 12
@@
expression V0;
@@
- V0->f_flags & O_DIRECT
+ iocb->ki_flags & IOCB_DIRECT
//# pattern-3, witnesses: 4
@@
identifier fn;
identifier from;
identifier iocb;
@@
 ssize_t fn(struct kiocb * iocb, struct iov_iter * from)
 {
     <...
- file->f_flags & O_APPEND
+ iocb->ki_flags & IOCB_APPEND
     ...>
 }
//# pattern-2, witnesses: 3
@@
identifier fn;
identifier from;
identifier iocb;
@@
 ssize_t fn(struct kiocb * iocb, struct iov_iter * from)
 {
     <...
- io_is_direct(file)
+ iocb->ki_flags & IOCB_DIRECT
     ...>
 }
//# pattern-5, witnesses: 2
@@
identifier fn;
identifier iocb;
identifier to;
@@
 ssize_t fn(struct kiocb * iocb, struct iov_iter * to)
 {
     <...
- iocb->ki_filp->f_flags & O_DIRECT
+ iocb->ki_flags & IOCB_DIRECT
     ...>
 }
