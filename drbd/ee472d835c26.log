BUILD:
[33mbase commit: ee472d835c26^1
[0m[33mtarget commit: ee472d835c26
[0m[33mchecking out base commit... [0m[33mok (1s)
[0m[33mformatting diff... [0m[33mok (1s)
[0m8 source file(s) touched in the old version
`-- block/blk-lib.c
`-- block/ioctl.c
`-- drivers/block/drbd/drbd_receiver.c
`-- drivers/nvme/target/io-cmd.c
`-- fs/block_dev.c
`-- fs/dax.c
`-- fs/xfs/xfs_bmap_util.c
`-- include/linux/blkdev.h
8 source file(s) touched in the new version
`-- block/blk-lib.c
`-- block/ioctl.c
`-- drivers/block/drbd/drbd_receiver.c
`-- drivers/nvme/target/io-cmd.c
`-- fs/block_dev.c
`-- fs/dax.c
`-- fs/xfs/xfs_bmap_util.c
`-- include/linux/blkdev.h
[33mcompile base commit... [0m[33mok (28s)
[0m[33mapply [0m[33mee472d835c26... [0m[33mok (28s)
[0m[33mcompile target commit... [0m[33mok (51s)
[0mPREPARE:
[33mcollect AST for functions: blkdev_issue_zeroout@block_blk-lib.c,drbd_issue_discard_or_zero_out@drivers_block_drbd_drbd_receiver.c,blkdev_fallocate@fs_block_dev.c,nvmet_execute_write_zeroes@drivers_nvme_target_io-cmd.c,__dax_zero_page_range@fs_dax.c,blk_ioctl_zeroout@block_ioctl.c,__blkdev_issue_zeroout@block_blk-lib.c,xfs_zero_extent@fs_xfs_xfs_bmap_util.c,sb_issue_zeroout@include_linux_blkdev.h
[0m[33mTransforming and linking bitcode files...
[0m[33m4s
[0mANALYZE:
COCCIGEN:
//# pattern-4, witnesses: 3
@@
@@
- true
+ 0
//# pattern-2, witnesses: 2
@@
@@
- false
+ BLKDEV_ZERO_NOUNMAP
//# pattern-3, witnesses: 2
@@
expression E0;
typedef bool;
identifier device;
identifier discard;
identifier nr_sectors;
typedef sector_t;
identifier start;
@@
 int drbd_issue_discard_or_zero_out(struct drbd_device * device, sector_t start, unsigned int nr_sectors, bool discard)
 {
     <...
- blkdev_issue_zeroout(bdev, start, E0, GFP_NOIO, 0)
+ blkdev_issue_zeroout(bdev, start, E0, GFP_NOIO, BLKDEV_ZERO_NOUNMAP)
     ...>
 }
