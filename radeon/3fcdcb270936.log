BUILD:
[33mbase commit: 3fcdcb270936^1
[0m[33mtarget commit: 3fcdcb270936
[0m[33mchecking out base commit... [0m[33mok (1s)
[0m[33mformatting diff... [0m[33mok (1s)
[0m13 source file(s) touched in the old version
`-- drivers/gpu/drm/amd/amdgpu/amdgpu.h
`-- drivers/gpu/drm/amd/amdgpu/amdgpu_kms.c
`-- drivers/gpu/drm/drm_irq.c
`-- drivers/gpu/drm/i915/i915_irq.c
`-- drivers/gpu/drm/msm/mdp/mdp5/mdp5_kms.c
`-- drivers/gpu/drm/nouveau/nouveau_display.c
`-- drivers/gpu/drm/nouveau/nouveau_display.h
`-- drivers/gpu/drm/radeon/radeon_drv.c
`-- drivers/gpu/drm/radeon/radeon_kms.c
`-- drivers/gpu/drm/vc4/vc4_crtc.c
`-- drivers/gpu/drm/vc4/vc4_drv.h
`-- include/drm/drm_drv.h
`-- include/drm/drm_irq.h
13 source file(s) touched in the new version
`-- drivers/gpu/drm/amd/amdgpu/amdgpu.h
`-- drivers/gpu/drm/amd/amdgpu/amdgpu_kms.c
`-- drivers/gpu/drm/drm_irq.c
`-- drivers/gpu/drm/i915/i915_irq.c
`-- drivers/gpu/drm/msm/mdp/mdp5/mdp5_kms.c
`-- drivers/gpu/drm/nouveau/nouveau_display.c
`-- drivers/gpu/drm/nouveau/nouveau_display.h
`-- drivers/gpu/drm/radeon/radeon_drv.c
`-- drivers/gpu/drm/radeon/radeon_kms.c
`-- drivers/gpu/drm/vc4/vc4_crtc.c
`-- drivers/gpu/drm/vc4/vc4_drv.h
`-- include/drm/drm_drv.h
`-- include/drm/drm_irq.h
[33mcompile base commit... [0m[33mok (26s)
[0m[33mapply [0m[33m3fcdcb270936... [0m[33mok (26s)
[0m[33mcompile target commit... [0m[33mok (44s)
[0mPREPARE:
[33mcollect AST for functions: nouveau_display_vblstamp@drivers_gpu_drm_nouveau_nouveau_display.c,drm_handle_vblank@drivers_gpu_drm_drm_irq.c,vblank_disable_and_save@drivers_gpu_drm_drm_irq.c,radeon_get_vblank_timestamp_kms@drivers_gpu_drm_radeon_radeon_kms.c,drm_get_last_vbltimestamp@drivers_gpu_drm_drm_irq.c,amdgpu_get_vblank_timestamp_kms@drivers_gpu_drm_amd_amdgpu_amdgpu_kms.c,drm_update_vblank_count@drivers_gpu_drm_drm_irq.c,drm_reset_vblank_timestamp@drivers_gpu_drm_drm_irq.c,drm_accurate_vblank_count@drivers_gpu_drm_drm_irq.c,i915_get_vblank_timestamp@drivers_gpu_drm_i915_i915_irq.c,drm_calc_vbltimestamp_from_scanoutpos@drivers_gpu_drm_drm_irq.c,vc4_crtc_get_vblank_timestamp@drivers_gpu_drm_vc4_vc4_crtc.c
[0m[33mTransforming and linking bitcode files...
[0m[33m4s
[0mANALYZE:
COCCIGEN:
//# pattern-1, witnesses: 3
@r0@
identifier i, fn;
@@
struct drm_driver i = {
    .get_vblank_timestamp = fn,
};
@@
expression E0;
typedef bool;
identifier dev;
identifier flags;
identifier max_error;
identifier pipe;
identifier r0.fn;
identifier time;
@@
- bool fn(struct drm_device * dev, unsigned int pipe, int * max_error, struct timeval * time, unsigned int flags)
+ bool fn(struct drm_device * dev, unsigned int pipe, int * max_error, struct timeval * time, bool in_vblank_irq)
 {
     <...
- drm_calc_vbltimestamp_from_scanoutpos(dev, pipe, max_error, time, flags, E0)
+ drm_calc_vbltimestamp_from_scanoutpos(dev, pipe, max_error, time, in_vblank_irq, E0)
     ...>
 }
//# pattern-10, witnesses: 2
@@
@@
- drm_update_vblank_count(dev, pipe, 0)
+ drm_update_vblank_count(dev, pipe, false)
