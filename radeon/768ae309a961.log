BUILD:
[33mbase commit: 768ae309a961^1
[0m[33mtarget commit: 768ae309a961
[0m[33mchecking out base commit... [0m[33mok (1s)
[0m[33mformatting diff... [0m[33mok (1s)
[0m22 source file(s) touched in the old version
`-- arch/cris/arch-v32/drivers/cryptocop.c
`-- arch/ia64/kernel/err_inject.c
`-- arch/x86/mm/mpx.c
`-- drivers/gpu/drm/amd/amdgpu/amdgpu_ttm.c
`-- drivers/gpu/drm/radeon/radeon_ttm.c
`-- drivers/gpu/drm/via/via_dmablit.c
`-- drivers/infiniband/core/umem.c
`-- drivers/infiniband/hw/mthca/mthca_memfree.c
`-- drivers/infiniband/hw/qib/qib_user_pages.c
`-- drivers/infiniband/hw/usnic/usnic_uiom.c
`-- drivers/media/v4l2-core/videobuf-dma-sg.c
`-- drivers/misc/mic/scif/scif_rma.c
`-- drivers/misc/sgi-gru/grufault.c
`-- drivers/platform/goldfish/goldfish_pipe.c
`-- drivers/rapidio/devices/rio_mport_cdev.c
`-- drivers/staging/vc04_services/interface/vchiq_arm/vchiq_2835_arm.c
`-- drivers/staging/vc04_services/interface/vchiq_arm/vchiq_arm.c
`-- drivers/virt/fsl_hypervisor.c
`-- include/linux/mm.h
`-- mm/gup.c
`-- mm/mempolicy.c
`-- mm/nommu.c
22 source file(s) touched in the new version
`-- arch/cris/arch-v32/drivers/cryptocop.c
`-- arch/ia64/kernel/err_inject.c
`-- arch/x86/mm/mpx.c
`-- drivers/gpu/drm/amd/amdgpu/amdgpu_ttm.c
`-- drivers/gpu/drm/radeon/radeon_ttm.c
`-- drivers/gpu/drm/via/via_dmablit.c
`-- drivers/infiniband/core/umem.c
`-- drivers/infiniband/hw/mthca/mthca_memfree.c
`-- drivers/infiniband/hw/qib/qib_user_pages.c
`-- drivers/infiniband/hw/usnic/usnic_uiom.c
`-- drivers/media/v4l2-core/videobuf-dma-sg.c
`-- drivers/misc/mic/scif/scif_rma.c
`-- drivers/misc/sgi-gru/grufault.c
`-- drivers/platform/goldfish/goldfish_pipe.c
`-- drivers/rapidio/devices/rio_mport_cdev.c
`-- drivers/staging/vc04_services/interface/vchiq_arm/vchiq_2835_arm.c
`-- drivers/staging/vc04_services/interface/vchiq_arm/vchiq_arm.c
`-- drivers/virt/fsl_hypervisor.c
`-- include/linux/mm.h
`-- mm/gup.c
`-- mm/mempolicy.c
`-- mm/nommu.c
[33mcompile base commit... [0m[33mok (54s)
[0m[33mapply [0m[33m768ae309a961... [0m[33mok (54s)
[0m[33mcompile target commit... [0m[33mok (94s)
[0mPREPARE:
[33mcollect AST for functions: lookup_node@mm_mempolicy.c,goldfish_pipe_read_write@drivers_platform_goldfish_goldfish_pipe.c,rio_dma_transfer@drivers_rapidio_devices_rio_mport_cdev.c,amdgpu_ttm_tt_get_user_pages@drivers_gpu_drm_amd_amdgpu_amdgpu_ttm.c,via_lock_all_dma_pages@drivers_gpu_drm_via_via_dmablit.c,videobuf_dma_init_user_locked@drivers_media_v4l2-core_videobuf-dma-sg.c,__qib_get_user_pages@drivers_infiniband_hw_qib_qib_user_pages.c,get_user_pages@mm_gup.c,__scif_pin_pages@drivers_misc_mic_scif_scif_rma.c,get_user_pages_locked@mm_nommu.c,usnic_uiom_get_pages@drivers_infiniband_hw_usnic_usnic_uiom.c,ib_umem_get@drivers_infiniband_core_umem.c,mpx_resolve_fault@arch_x86_mm_mpx.c,non_atomic_pte_lookup@drivers_misc_sgi-gru_grufault.c,ioctl_memcpy@drivers_virt_fsl_hypervisor.c,radeon_ttm_tt_pin_userptr@drivers_gpu_drm_radeon_radeon_ttm.c,get_user_pages@mm_nommu.c,mthca_map_user_db@drivers_infiniband_hw_mthca_mthca_memfree.c
[0m[33mTransforming and linking bitcode files...
[0m[33m5s
[0mANALYZE:
COCCIGEN:
unknown kind: ConditionalOperator
//# pattern-2, witnesses: 4
@@
expression E0;
expression E1;
expression E2;
expression E3;
@@
- get_user_pages(E0, E1, E2, 0, E3, NULL)
+ get_user_pages(E0, E1, , E3, NULL)
//# pattern-8, witnesses: 2
@r0@
identifier i, fn;
@@
struct kernel_symbol i = {
    .value = fn,
};
@@
expression IL1;
identifier PV0;
identifier force;
identifier nr_pages;
identifier pages;
identifier start;
identifier vmas;
identifier write;
@@
- long get_user_pages(unsigned long start, unsigned long nr_pages, int write, int force, struct page ** pages, struct vm_area_struct ** vmas)
+ long get_user_pages(unsigned long start, unsigned long nr_pages, unsigned int gup_flags, struct page ** pages, struct vm_area_struct ** vmas)
 {
     <...
- unsigned int flags = FOLL_TOUCH;
- if (PV0) {
- flags |= IL1;
- }
     ...>
 }
